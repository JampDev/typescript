<div class="container">
    <form [formGroup]="formularioCreado">
        <div class="form-group">
            <label for="nombre">Nombre</label>
            <input id="nombre" type="text" class="form-control" formControlName="nombre">
            <div class="alert alert-danger" role="alert"
                *ngIf="formularioCreado.controls['nombre'].invalid  && formularioCreado.controls['nombre'].dirty">
                <span *ngIf="formularioCreado.controls['nombre'].errors?.['required']">El nombre es requerido.</span>
            </div>
        </div>
        <div class="form-group">
            <label for="clave">Clave</label>
            <input id="clave" type="password" class="form-control" formControlName="clave">
            <div  *ngIf="formularioCreado.controls['clave'].invalid  && formularioCreado.controls['clave'].dirty">
                <div class="alert alert-danger" role="alert"
                    *ngIf="formularioCreado.controls['clave'].errors?.['required']">
                    La clave es requerida.
                </div>
                <div class="alert alert-danger" role="alert"
                *ngIf="formularioCreado.controls['clave'].errors?.['minlength']">
                    La contraseña debe tener al menos 8 caracteres.
                </div>
            </div>            
        </div>
        <div class="form-group">
            <label for="correo">Correo</label>
            <input id="correo" type="text" class="form-control" formControlName="correo">
            <div  *ngIf="formularioCreado.controls['correo'].invalid  && formularioCreado.controls['correo'].dirty">
                <div class="alert alert-danger" role="alert"
                    *ngIf="formularioCreado.controls['correo'].errors?.['required']">
                    El correo es requerido.
                </div>
                <div class="alert alert-danger" role="alert"
                    *ngIf="formularioCreado.controls['correo'].errors?.['email']">
                    No parece un correo valido.
                </div>
            </div>
        </div>

        <button *ngIf="esNuevo" [disabled]="!formularioCreado.valid" type="button" class="btn btn-primary" (click)="agregar()">Agregar</button>
        <button *ngIf="!esNuevo" [disabled]="!formularioCreado.valid" type="button" class="btn btn-danger" (click)="editar()">Editar</button>
    </form>
</div>

<div class="container borde">
    <div *ngFor="let usuario of usuarios; let pos = index">
        <p>Posición: {{pos}}</p>
        <h4>{{usuario.nombre}}</h4>
        <p>{{usuario.correo}}</p>
        <p>{{usuario.clave}}</p>
        <button (click)="editarUsuario(pos)" type="button" class="btn btn-warning">Editar</button>
        <button (click)="eliminarUsuario(pos)" type="button" class="btn btn-danger">Eliminar</button>
    </div>
</div>
